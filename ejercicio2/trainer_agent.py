import numpy as np #line:1
from random_agent import RandomTacTixAgent #line:2
class __OO00OOOOO0O00O00O :#line:4
    def __init__ (O0OO0OOO0O0O00OO0 ,OOOO00OOOO00OO000 ):#line:5
        O0OO0OOO0O0O00OO0 .env =OOOO00OOOO00OO000 #line:6
    def act (O0000O00OOOOOO0O0 ,OO0OO000O00O00O00 ):#line:8
        OOOOO0OO0OO0O0O0O =OO0OO000O00O00O00 ["board"]#line:9
        O0OOO00O0OO00O0O0 =O0000O00OOOOOO0O0 .____O000OOO00OO0000OO (OOOOO0OO0OO0O0O0O )#line:10
        for O0O00OO0OOOOOO000 in O0OOO00O0OO00O0O0 :#line:13
            O00OOO00000O00OOO =O0000O00OOOOOO0O0 .____OO00000OOOOO0O000 (OOOOO0OO0OO0O0O0O ,O0O00OO0OOOOOO000 )#line:14
            if O0000O00OOOOOO0O0 .____O0O0OOO00OO0OO0OO (O00OOO00000O00OOO )==0 :#line:15
                return O0O00OO0OOOOOO000 #line:16
        return O0OOO00O0OO00O0O0 [0 ]#line:19
    def ____OO00000OOOOO0O000 (OO0000OO00OOOOO00 ,OOOOOO0OOO00O000O ,O00O000O0O0OO0O0O ):#line:21
        O0OOO0OO0O00OOO00 ,O00O0OO000OO00000 ,OOO0O0OOO0OOO0O0O ,OOO000000O0000000 =O00O000O0O0OO0O0O #line:22
        O0O0O0O0OOO000O00 =OOOOOO0OOO00O000O .copy ()#line:23
        if OOO000000O0000000 :#line:24
            O0O0O0O0OOO000O00 [O0OOO0OO0O00OOO00 ,O00O0OO000OO00000 :OOO0O0OOO0OOO0O0O +1 ]=0 #line:25
        else :#line:26
            O0O0O0O0OOO000O00 [O00O0OO000OO00000 :OOO0O0OOO0OOO0O0O +1 ,O0OOO0OO0O00OOO00 ]=0 #line:27
        return O0O0O0O0OOO000O00 #line:28
    def ____O000OOO00OO0000OO (OOO0000O00OO0OO0O ,O00OO0OO0O00OO0O0 ):#line:30
        OOO00OO00000OO0OO =O00OO0OO0O00OO0O0 .shape [0 ]#line:31
        O0O0O00O0O00OOO00 =[]#line:32
        for OO0O0000OOO00OO00 in [0 ,1 ]:#line:33
            for O0O000O0OO0000O0O in range (OOO00OO00000OO0OO ):#line:34
                for OO0O00OOO0O0O0000 in range (OOO00OO00000OO0OO ):#line:35
                    for OO0O000O0O0OOO0OO in range (OO0O00OOO0O0O0000 ,OOO00OO00000OO0OO ):#line:36
                        if OO0O0000OOO00OO00 :#line:37
                            if np .all (O00OO0OO0O00OO0O0 [O0O000O0OO0000O0O ,OO0O00OOO0O0O0000 :OO0O000O0O0OOO0OO +1 ]==1 ):#line:38
                                O0O0O00O0O00OOO00 .append ((O0O000O0OO0000O0O ,OO0O00OOO0O0O0000 ,OO0O000O0O0OOO0OO ,1 ))#line:39
                        else :#line:40
                            if np .all (O00OO0OO0O00OO0O0 [OO0O00OOO0O0O0000 :OO0O000O0O0OOO0OO +1 ,O0O000O0OO0000O0O ]==1 ):#line:41
                                O0O0O00O0O00OOO00 .append ((O0O000O0OO0000O0O ,OO0O00OOO0O0O0000 ,OO0O000O0O0OOO0OO ,0 ))#line:42
        return O0O0O00O0O00OOO00 #line:43
    def ____O0O0OOO00OO0OO0OO (OO0000O0O0OO000OO ,O000OOO0OO0O00OO0 ):#line:45
        def OOO00OOOOO00O00O0 (O0O0O000O0OO0OO00 ):#line:46
            O0OOOO0OO000O000O =0 #line:47
            OO00O0OOOOO0000OO =0 #line:48
            for OOOOOO0000O00O000 in list (O0O0O000O0OO0OO00 )+[0 ]:#line:49
                if OOOOOO0000O00O000 ==1 :#line:50
                    O0OOOO0OO000O000O +=1 #line:51
                elif O0OOOO0OO000O000O >0 :#line:52
                    OO00O0OOOOO0000OO ^=O0OOOO0OO000O000O #line:53
                    O0OOOO0OO000O000O =0 #line:54
            return OO00O0OOOOO0000OO #line:55
        O0OO00O0000O00O00 =0 #line:57
        for OOO0O00O0OO00O0OO in O000OOO0OO0O00OO0 :#line:58
            O0OO00O0000O00O00 ^=OOO00OOOOO00O00O0 (OOO0O00O0OO00O0OO )#line:59
        return O0OO00O0000O00O00 #line:60
class TrainerAgent (__OO00OOOOO0O00O00O ):#line:62
    def __init__ (O0OO00O0O0O0OOO00 ,env , difficulty =0.3 ):#line:63
        super ().__init__ (env )#line:64
        O0OO00O0O0O0OOO00 .env =env #line:65
        O0OO00O0O0O0OOO00 .probability =difficulty #line:66
    def act (O0O0OOO0O0O0O0OOO ,OOOOO000OOOO0OOO0 ):#line:68
        if np .random .rand ()>O0O0OOO0O0O0O0OOO .probability :#line:70
            return RandomTacTixAgent (O0O0OOO0O0O0O0OOO .env ).act (OOOOO000OOOO0OOO0 )#line:71
        else :#line:72
            return super ().act (OOOOO000OOOO0OOO0 )
